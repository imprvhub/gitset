---
import Layout from '../layouts/Layout.astro';
import Header from '../components/layout/Header.astro';
import Prose from '../components/ui/Prose.astro';
import Text from '../components/ui/Text.astro';
import Sidebar from '../layouts/Sidebar.astro';

const userIsLoggedIn = !!Astro.locals.userId;
---

<Layout title="Gitset - Login">
  <Header />
  <div class="flex flex-col min-h-screen">
    <div class="hidden lg:block fixed w-64 h-full">
      <Sidebar />
    </div>
    
    <div class="flex-1 lg:ml-64 flex flex-col">
      <main class="flex-1 overflow-x-hidden overflow-y-auto">
        <div class="container mx-auto px-4 sm:px-6 lg:px-8 py-8 mt-16 lg:mt-0 ">
          <div class="card-container ">
            <div class="card-gradient ">
              <div class="card-content">
                  <div class="border-20 flex flex-col items-center justify-center p-8 bg-neutral-100/90  dark:bg-neutral-800/90 ">
                    <h1 class="text-3xl text-neutral-700  text-center mb-6 ">
                      Access to Gitset
                    </h1>
                    <Prose>
                      <Text class="text-center text-gray-600 text-lg">
                        This platform utilizes GitHub OAuth for secure authentication. You may revoke access at any time.
                    </Text>
                    
                    </Prose>
                    <div class="flex items-center justify-center flex-col mt-8">            
                      <button style="border-radius: 10px;" class="w-full bg-gray-800 text-white font-semibold py-2 px-4 border border-gray-700 rounded shadow-sm hover:bg-gray-700 transition duration-300">
                        <a href="/api/auth/github" class="text-neutral-700 flex items-center justify-center">
                          <svg class="h-6 w-6 mr-2" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                            <path d="M12 .297c-6.63 0-12 5.373-12 12 0 5.303 3.438 9.8 8.205 11.385.6.113.82-.258.82-.577 0-.285-.01-1.04-.015-2.04-3.338.724-4.042-1.61-4.042-1.61C4.422 18.07 3.633 17.7 3.633 17.7c-1.087-.744.084-.729.084-.729 1.205.084 1.838 1.236 1.838 1.236 1.07 1.835 2.809 1.305 3.495.998.108-.776.417-1.305.76-1.605-2.665-.3-5.466-1.332-5.466-5.93 0-1.31.465-2.38 1.235-3.22-.135-.303-.54-1.523.105-3.176 0 0 1.005-.322 3.3 1.23.96-.267 1.98-.399 3-.405 1.02.006 2.04.138 3 .405 2.28-1.552 3.285-1.23 3.285-1.23.645 1.653.24 2.873.12 3.176.765.84 1.23 1.91 1.23 3.22 0 4.61-2.805 5.625-5.475 5.92.42.36.81 1.096.81 2.22 0 1.606-.015 2.896-.015 3.286 0 .315.21.69.825.57C20.565 22.092 24 17.592 24 12.297c0-6.627-5.373-12-12-12" fill="currentColor"/>
                          </svg>
                          Sign in with GitHub
                        </a>
                      </button>
                    </div>
                    <Prose>
                      <Text class="text-center mt-8 text-gray-600">
                        Any questions or concerns? <a href="/how-it-works" class="text-accent hover:underline">More Information</a>.
                      </Text>
                    </Prose>
                    
                  </div>
              </div>
            </div>
          </div>
        </div>
      </main>
    </div>
  </div>
</Layout>

<style>
  .card-container {
    display: flex;
    justify-content: center;
    align-items: center;
    top: 3rem;
    
    position: relative;
    padding: 2rem;
  }

  .card-gradient {
  position: relative;
  border-radius: 16px;
  background: linear-gradient(90deg, #3a9fa8, #59b4aa);
  padding: 1px;
  width: 100%;
  max-width: 800px;
  border-radius: 20px;
}

.card-content {
  border-radius: 15px;
  height: 100%;
  width: 100%;
}

  @media (max-width: 1023px) {
    .container {
      max-width: 100% !important;
      padding-left: 1rem !important;
      padding-right: 1rem !important;
    }
    
    .card-container {
      padding: 1rem;
    }
  }

  .border-20 {
    border-radius: 20px;
  }

  .text-accent {
    color: #59b4aa;
  }

  @media (prefers-color-scheme: dark) {
    .text-accent {
      color: #6fcec3;
    }
  }
</style>